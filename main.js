/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => AudioWorks
});
module.exports = __toCommonJS(main_exports);
var import_obsidian3 = require("obsidian");

// settings.ts
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  waveformStyle: "bars",
  recordingsFolder: "recordings",
  format: "webm"
};
var AudioWorksSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "AudioWorks Settings" });
    new import_obsidian.Setting(containerEl).setName("Waveform style").setDesc("Choose how the waveform is visualized during and after recording.").addDropdown(
      (dropdown) => dropdown.addOption("bars", "Bars").addOption("line", "Continuous line").setValue(this.plugin.settings.waveformStyle).onChange(async (value) => {
        this.plugin.settings.waveformStyle = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Recordings folder").setDesc("Folder inside your vault where recordings will be saved.").addText(
      (text) => text.setPlaceholder("recordings").setValue(this.plugin.settings.recordingsFolder).onChange(async (value) => {
        this.plugin.settings.recordingsFolder = value.trim() || "recordings";
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Recording format").setDesc("Choose the format for saved recordings.").addDropdown(
      (dropdown) => dropdown.addOption("webm", "WebM (default, smaller)").addOption("mp3", "MP3 (larger, more compatible)").setValue(this.plugin.settings.format).onChange(async (value) => {
        this.plugin.settings.format = value;
        await this.plugin.saveSettings();
      })
    );
  }
};

// recorderview.ts
var import_obsidian2 = require("obsidian");
var VIEW_TYPE_RECORDER = "audio-recorder-view";
var RecorderView = class extends import_obsidian2.ItemView {
  // Number of data points to keep
  constructor(leaf, plugin) {
    super(leaf);
    this.mediaRecorder = null;
    this.audioCtx = null;
    this.analyser = null;
    this.source = null;
    this.dataArray = null;
    this.animationFrame = null;
    this.chunks = [];
    this.isRecording = false;
    this.isPaused = false;
    this.canvas = null;
    this.canvasCtx = null;
    this.audioContainer = null;
    // Scrolling waveform data
    this.waveformHistory = [];
    this.maxHistoryLength = 500;
    this.plugin = plugin;
  }
  getViewType() {
    return VIEW_TYPE_RECORDER;
  }
  getDisplayText() {
    return "Audio Recorder";
  }
  getIcon() {
    return "mic";
  }
  async onOpen() {
    const container = this.containerEl;
    container.empty();
    container.addClass(VIEW_TYPE_RECORDER);
    container.createEl("h2", { text: "\u{1F399} Audio Recorder" });
    this.audioContainer = container.createDiv({ cls: "audio-player-container" });
    this.canvas = container.createEl("canvas", { cls: "waveform-canvas" });
    this.canvas.width = container.clientWidth;
    this.canvas.height = 500;
    this.canvasCtx = this.canvas.getContext("2d");
    const pauseBtn = container.createEl("button", { cls: "pause-btn" });
    (0, import_obsidian2.setIcon)(pauseBtn, "pause");
    pauseBtn.disabled = true;
    const RecordBtn = container.createEl("button", { cls: "record-btn" });
    (0, import_obsidian2.setIcon)(RecordBtn, "play");
    RecordBtn.onclick = async () => {
      if (this.isRecording) {
        await this.stopRecording();
        (0, import_obsidian2.setIcon)(RecordBtn, "play");
        pauseBtn.disabled = true;
        this.isPaused = false;
        (0, import_obsidian2.setIcon)(pauseBtn, "pause");
      } else {
        try {
          await this.startRecording();
          (0, import_obsidian2.setIcon)(RecordBtn, "square");
          pauseBtn.disabled = false;
        } catch (err) {
          console.error(err);
          new import_obsidian2.Notice("Failed to start recording");
        }
      }
    };
    pauseBtn.onclick = async () => {
      if (!this.mediaRecorder)
        return;
      if (!this.isPaused) {
        this.mediaRecorder.pause();
        this.isPaused = true;
        (0, import_obsidian2.setIcon)(pauseBtn, "play");
        new import_obsidian2.Notice("Recording paused");
      } else {
        this.mediaRecorder.resume();
        this.isPaused = false;
        (0, import_obsidian2.setIcon)(pauseBtn, "pause");
        new import_obsidian2.Notice("Recording resumed");
      }
    };
  }
  async startRecording() {
    const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
    this.audioCtx = new AudioContext();
    this.source = this.audioCtx.createMediaStreamSource(stream);
    this.analyser = this.audioCtx.createAnalyser();
    this.analyser.fftSize = 2048;
    const bufferLength = this.analyser.frequencyBinCount;
    this.dataArray = new Uint8Array(bufferLength);
    this.source.connect(this.analyser);
    this.waveformHistory = [];
    this.drawWaveform();
    this.mediaRecorder = new MediaRecorder(stream);
    this.chunks = [];
    this.mediaRecorder.ondataavailable = (e) => {
      if (e.data.size > 0)
        this.chunks.push(e.data);
    };
    this.mediaRecorder.onstop = async () => {
      const blob = new Blob(this.chunks, { type: "audio/webm" });
      await this.saveRecording(blob);
      this.stopVisualization();
    };
    this.mediaRecorder.start();
    this.isRecording = true;
    new import_obsidian2.Notice("Recording...");
  }
  async stopRecording() {
    if (!this.mediaRecorder || !this.isRecording)
      return;
    this.mediaRecorder.stop();
    this.isRecording = false;
    new import_obsidian2.Notice("Recording stopped");
  }
  async saveRecording(blob) {
    try {
      const arrayBuffer = await blob.arrayBuffer();
      const folder = "recordings";
      const vault = this.app.vault;
      if (!await vault.adapter.exists(folder)) {
        await vault.createFolder(folder);
      }
      const timestamp = new Date().toISOString().replace(/[:.]/g, "-");
      const filename = `${folder}/recording-${timestamp}.webm`;
      await vault.createBinary(filename, arrayBuffer);
      new import_obsidian2.Notice(`Saved as ${filename}`);
      this.showAudioPlayer(filename, blob);
    } catch (err) {
      console.error(err);
      new import_obsidian2.Notice("Failed to save recording");
    }
  }
  stopVisualization() {
    if (this.animationFrame) {
      cancelAnimationFrame(this.animationFrame);
      this.animationFrame = null;
    }
  }
  drawWaveform() {
    if (!this.canvasCtx || !this.analyser || !this.dataArray)
      return;
    const ctx = this.canvasCtx;
    const analyser = this.analyser;
    const dataArray = this.dataArray;
    const width = this.canvas.width;
    const height = this.canvas.height;
    const draw = () => {
      if (this.isPaused) {
        this.animationFrame = requestAnimationFrame(draw);
        return;
      }
      this.animationFrame = requestAnimationFrame(draw);
      analyser.getByteTimeDomainData(dataArray);
      let sum = 0;
      for (let i = 0; i < dataArray.length; i++) {
        const normalized = (dataArray[i] - 128) / 128;
        sum += normalized * normalized;
      }
      const rms = Math.sqrt(sum / dataArray.length);
      const amplitude = rms * 2;
      this.waveformHistory.push(amplitude);
      if (this.waveformHistory.length > this.maxHistoryLength) {
        this.waveformHistory.shift();
      }
      ctx.fillStyle = getComputedStyle(document.body).getPropertyValue("--background-primary");
      ctx.fillRect(0, 0, width, height);
      ctx.strokeStyle = getComputedStyle(document.body).getPropertyValue("--background-modifier-border");
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(0, height / 2);
      ctx.lineTo(width, height / 2);
      ctx.stroke();
      if (this.plugin.settings.waveformStyle === "line") {
        this.drawLineWaveform(ctx, width, height);
      } else {
        this.drawBarWaveform(ctx, width, height);
      }
    };
    draw();
  }
  drawLineWaveform(ctx, width, height) {
    if (this.waveformHistory.length < 2)
      return;
    const pointSpacing = width / this.maxHistoryLength;
    ctx.strokeStyle = getComputedStyle(document.body).getPropertyValue("--interactive-accent");
    ctx.lineWidth = 2;
    ctx.beginPath();
    for (let i = 0; i < this.waveformHistory.length; i++) {
      const x = i * pointSpacing;
      const amplitude = this.waveformHistory[i];
      const y = height / 2 - amplitude * height * 0.4;
      if (i === 0) {
        ctx.moveTo(x, y);
      } else {
        ctx.lineTo(x, y);
      }
    }
    for (let i = this.waveformHistory.length - 1; i >= 0; i--) {
      const x = i * pointSpacing;
      const amplitude = this.waveformHistory[i];
      const y = height / 2 + amplitude * height * 0.4;
      ctx.lineTo(x, y);
    }
    ctx.closePath();
    ctx.fillStyle = getComputedStyle(document.body).getPropertyValue("--interactive-accent") + "40";
    ctx.fill();
    ctx.stroke();
  }
  drawBarWaveform(ctx, width, height) {
    const barWidth = width / this.maxHistoryLength;
    const accentColor = getComputedStyle(document.body).getPropertyValue("--interactive-accent");
    for (let i = 0; i < this.waveformHistory.length; i++) {
      const x = i * barWidth;
      const amplitude = this.waveformHistory[i];
      const barHeight = amplitude * height * 0.4;
      const opacity = 0.3 + i / this.waveformHistory.length * 0.7;
      ctx.fillStyle = accentColor + Math.floor(opacity * 255).toString(16).padStart(2, "0");
      ctx.fillRect(x, height / 2 - barHeight, barWidth - 1, barHeight * 2);
    }
  }
  showAudioPlayer(filename, blob) {
    if (!this.audioContainer)
      return;
    this.audioContainer.empty();
    const title = this.audioContainer.createEl("p", {
      text: `\u25B6\uFE0F ${filename}`,
      cls: "audio-player-title"
    });
    const audio = this.audioContainer.createEl("audio", {
      cls: "audio-player"
    });
    audio.controls = true;
    audio.src = URL.createObjectURL(blob);
  }
  async onClose() {
    this.containerEl.empty();
  }
};

// main.ts
var AudioWorks = class extends import_obsidian3.Plugin {
  async onload() {
    console.log("Loading AudioWorks plugin...");
    await this.loadSettings();
    this.addSettingTab(new AudioWorksSettingTab(this.app, this));
    this.registerView(
      VIEW_TYPE_RECORDER,
      (leaf) => new RecorderView(leaf, this)
    );
    this.addCommand({
      id: "open-recorder-view",
      name: "Open Audio Recorder",
      callback: () => this.activateView()
    });
    this.addRibbonIcon("mic", "Open Audio Recorder", () => {
      this.activateView();
    });
  }
  async activateView() {
    const leaf = this.app.workspace.getLeaf(true);
    await leaf.setViewState({
      type: VIEW_TYPE_RECORDER,
      active: true
    });
    this.app.workspace.revealLeaf(leaf);
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  onunload() {
    this.app.workspace.getLeavesOfType(VIEW_TYPE_RECORDER).forEach((leaf) => leaf.detach());
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJzZXR0aW5ncy50cyIsICJyZWNvcmRlcnZpZXcudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IEFwcCwgUGx1Z2luLCBQbHVnaW5NYW5pZmVzdCwgV29ya3NwYWNlTGVhZiwgSXRlbVZpZXcsIE5vdGljZSwgc2V0SWNvbiB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBBdWRpb1dvcmtzU2V0dGluZ1RhYiwgREVGQVVMVF9TRVRUSU5HUywgQXVkaW9Xb3Jrc1NldHRpbmdzIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcclxuaW1wb3J0IHtWSUVXX1RZUEVfUkVDT1JERVIsIFJlY29yZGVyVmlld30gZnJvbSBcInJlY29yZGVydmlld1wiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF1ZGlvV29ya3MgZXh0ZW5kcyBQbHVnaW4ge1xyXG5cdHNldHRpbmdzOiBBdWRpb1dvcmtzU2V0dGluZ3M7XHJcblxyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHRcdGNvbnNvbGUubG9nKFwiTG9hZGluZyBBdWRpb1dvcmtzIHBsdWdpbi4uLlwiKTtcclxuXHRcdC8vIEFkZCBzZXR0aW5ncyB0YWJcclxuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IEF1ZGlvV29ya3NTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XHJcblxyXG5cdFx0Ly8gUmVnaXN0ZXIgdGhlIGN1c3RvbSB2aWV3XHJcblx0XHR0aGlzLnJlZ2lzdGVyVmlldyhcclxuXHRcdFx0VklFV19UWVBFX1JFQ09SREVSLFxyXG5cdFx0XHQobGVhZjogV29ya3NwYWNlTGVhZikgPT4gbmV3IFJlY29yZGVyVmlldyhsZWFmLCB0aGlzKVxyXG5cdFx0KTtcclxuXHJcblx0XHQvLyBDb21tYW5kIHRvIG9wZW4gdGhlIHJlY29yZGVyIGluIGEgbmV3IHRhYlxyXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6IFwib3Blbi1yZWNvcmRlci12aWV3XCIsXHJcblx0XHRcdG5hbWU6IFwiT3BlbiBBdWRpbyBSZWNvcmRlclwiLFxyXG5cdFx0XHRjYWxsYmFjazogKCkgPT4gdGhpcy5hY3RpdmF0ZVZpZXcoKSxcclxuXHRcdH0pO1xyXG5cdFx0XHJcblx0XHQvLyBSaWJib24gaWNvbiBzaG9ydGN1dFxyXG5cdFx0dGhpcy5hZGRSaWJib25JY29uKFwibWljXCIsIFwiT3BlbiBBdWRpbyBSZWNvcmRlclwiLCAoKSA9PiB7XHJcblx0XHRcdHRoaXMuYWN0aXZhdGVWaWV3KCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGFjdGl2YXRlVmlldygpIHtcclxuXHRcdGNvbnN0IGxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZih0cnVlKTtcclxuXHRcdGF3YWl0IGxlYWYuc2V0Vmlld1N0YXRlKHtcclxuXHRcdFx0dHlwZTogVklFV19UWVBFX1JFQ09SREVSLFxyXG5cdFx0XHRhY3RpdmU6IHRydWUsXHJcblx0XHR9KTtcclxuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5yZXZlYWxMZWFmKGxlYWYpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xyXG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xyXG5cdH1cclxuXHJcblx0b251bmxvYWQoKSB7XHJcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2VcclxuXHRcdFx0LmdldExlYXZlc09mVHlwZShWSUVXX1RZUEVfUkVDT1JERVIpXHJcblx0XHRcdC5mb3JFYWNoKChsZWFmKSA9PiBsZWFmLmRldGFjaCgpKTtcclxuXHR9XHJcbn0iLCAiaW1wb3J0IHsgQXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgQXVkaW9Xb3JrcyBmcm9tIFwiLi9tYWluXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXVkaW9Xb3Jrc1NldHRpbmdzIHtcblx0d2F2ZWZvcm1TdHlsZTogXCJiYXJzXCIgfCBcImxpbmVcIjtcblx0cmVjb3JkaW5nc0ZvbGRlcjogc3RyaW5nO1xuXHRmb3JtYXQ6IFwid2VibVwiIHwgXCJtcDNcIjtcbn1cblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IEF1ZGlvV29ya3NTZXR0aW5ncyA9IHtcblx0d2F2ZWZvcm1TdHlsZTogXCJiYXJzXCIsXG5cdHJlY29yZGluZ3NGb2xkZXI6IFwicmVjb3JkaW5nc1wiLFxuXHRmb3JtYXQ6IFwid2VibVwiLFxufTtcblxuZXhwb3J0IGNsYXNzIEF1ZGlvV29ya3NTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG5cdHBsdWdpbjogQXVkaW9Xb3JrcztcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBBdWRpb1dvcmtzKSB7XG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0ZGlzcGxheSgpOiB2b2lkIHtcblx0XHRjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cblx0XHRjb250YWluZXJFbC5jcmVhdGVFbChcImgyXCIsIHsgdGV4dDogXCJBdWRpb1dvcmtzIFNldHRpbmdzXCIgfSk7XG5cblx0XHQvLyAtLS0gV2F2ZWZvcm0gU3R5bGUgLS0tXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIldhdmVmb3JtIHN0eWxlXCIpXG5cdFx0XHQuc2V0RGVzYyhcIkNob29zZSBob3cgdGhlIHdhdmVmb3JtIGlzIHZpc3VhbGl6ZWQgZHVyaW5nIGFuZCBhZnRlciByZWNvcmRpbmcuXCIpXG5cdFx0XHQuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PlxuXHRcdFx0XHRkcm9wZG93blxuXHRcdFx0XHRcdC5hZGRPcHRpb24oXCJiYXJzXCIsIFwiQmFyc1wiKVxuXHRcdFx0XHRcdC5hZGRPcHRpb24oXCJsaW5lXCIsIFwiQ29udGludW91cyBsaW5lXCIpXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLndhdmVmb3JtU3R5bGUpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mud2F2ZWZvcm1TdHlsZSA9IHZhbHVlIGFzIFwiYmFyc1wiIHwgXCJsaW5lXCI7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0KTtcblxuXHRcdC8vIC0tLSBSZWNvcmRpbmdzIEZvbGRlciAtLS1cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKFwiUmVjb3JkaW5ncyBmb2xkZXJcIilcblx0XHRcdC5zZXREZXNjKFwiRm9sZGVyIGluc2lkZSB5b3VyIHZhdWx0IHdoZXJlIHJlY29yZGluZ3Mgd2lsbCBiZSBzYXZlZC5cIilcblx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PlxuXHRcdFx0XHR0ZXh0XG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKFwicmVjb3JkaW5nc1wiKVxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZWNvcmRpbmdzRm9sZGVyKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnJlY29yZGluZ3NGb2xkZXIgPSB2YWx1ZS50cmltKCkgfHwgXCJyZWNvcmRpbmdzXCI7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0KTtcblxuXHRcdC8vIC0tLSBGb3JtYXQgLS0tXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIlJlY29yZGluZyBmb3JtYXRcIilcblx0XHRcdC5zZXREZXNjKFwiQ2hvb3NlIHRoZSBmb3JtYXQgZm9yIHNhdmVkIHJlY29yZGluZ3MuXCIpXG5cdFx0XHQuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PlxuXHRcdFx0XHRkcm9wZG93blxuXHRcdFx0XHRcdC5hZGRPcHRpb24oXCJ3ZWJtXCIsIFwiV2ViTSAoZGVmYXVsdCwgc21hbGxlcilcIilcblx0XHRcdFx0XHQuYWRkT3B0aW9uKFwibXAzXCIsIFwiTVAzIChsYXJnZXIsIG1vcmUgY29tcGF0aWJsZSlcIilcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9ybWF0KVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmZvcm1hdCA9IHZhbHVlIGFzIFwid2VibVwiIHwgXCJtcDNcIjtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHQpO1xuXHR9XG59IiwgIlxuaW1wb3J0IHsgSXRlbVZpZXcsIE5vdGljZSwgc2V0SWNvbiB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHR5cGUgQXVkaW9Xb3Jrc1BsdWdpbiBmcm9tIFwiLi9tYWluXCI7XG5cbmV4cG9ydCBjb25zdCBWSUVXX1RZUEVfUkVDT1JERVIgPSBcImF1ZGlvLXJlY29yZGVyLXZpZXdcIjtcblxuZXhwb3J0IGNsYXNzIFJlY29yZGVyVmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcblx0cHJpdmF0ZSBwbHVnaW46IEF1ZGlvV29ya3NQbHVnaW47XG5cdHByaXZhdGUgbWVkaWFSZWNvcmRlcjogTWVkaWFSZWNvcmRlciB8IG51bGwgPSBudWxsO1xuXHRwcml2YXRlIGF1ZGlvQ3R4OiBBdWRpb0NvbnRleHQgfCBudWxsID0gbnVsbDtcblx0cHJpdmF0ZSBhbmFseXNlcjogQW5hbHlzZXJOb2RlIHwgbnVsbCA9IG51bGw7XG5cdHByaXZhdGUgc291cmNlOiBNZWRpYVN0cmVhbUF1ZGlvU291cmNlTm9kZSB8IG51bGwgPSBudWxsO1xuXHRwcml2YXRlIGRhdGFBcnJheTogVWludDhBcnJheSB8IG51bGwgPSBudWxsO1xuXHRwcml2YXRlIGFuaW1hdGlvbkZyYW1lOiBudW1iZXIgfCBudWxsID0gbnVsbDtcblx0cHJpdmF0ZSBjaHVua3M6IEJsb2JQYXJ0W10gPSBbXTtcblx0cHJpdmF0ZSBpc1JlY29yZGluZyA9IGZhbHNlO1xuXHRwcml2YXRlIGlzUGF1c2VkID0gZmFsc2U7XG5cblx0cHJpdmF0ZSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50IHwgbnVsbCA9IG51bGw7XG5cdHByaXZhdGUgY2FudmFzQ3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgfCBudWxsID0gbnVsbDtcblx0cHJpdmF0ZSBhdWRpb0NvbnRhaW5lcjogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcblxuXHQvLyBTY3JvbGxpbmcgd2F2ZWZvcm0gZGF0YVxuXHRwcml2YXRlIHdhdmVmb3JtSGlzdG9yeTogbnVtYmVyW10gPSBbXTtcblx0cHJpdmF0ZSBtYXhIaXN0b3J5TGVuZ3RoID0gNTAwOyAvLyBOdW1iZXIgb2YgZGF0YSBwb2ludHMgdG8ga2VlcFxuXG5cdGNvbnN0cnVjdG9yKGxlYWY6IGFueSwgcGx1Z2luOiBBdWRpb1dvcmtzUGx1Z2luKSB7XG5cdFx0c3VwZXIobGVhZik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRnZXRWaWV3VHlwZSgpIHtcblx0XHRyZXR1cm4gVklFV19UWVBFX1JFQ09SREVSO1xuXHR9XG5cblx0Z2V0RGlzcGxheVRleHQoKSB7XG5cdFx0cmV0dXJuIFwiQXVkaW8gUmVjb3JkZXJcIjtcblx0fVxuXG5cdGdldEljb24oKSB7XG5cdFx0cmV0dXJuIFwibWljXCI7XG5cdH1cblxuXHRhc3luYyBvbk9wZW4oKSB7XG5cdFx0Y29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbFxuXHRcdGNvbnRhaW5lci5lbXB0eSgpO1xuXHRcdC8vZGVmaW5pbmcgY2xhc3Ncblx0XHRjb250YWluZXIuYWRkQ2xhc3MoVklFV19UWVBFX1JFQ09SREVSKTtcblxuXHRcdC8qKiAtLSBIVE1MIC0tICoqL1xuXHRcdC8vYWRkaW5nIGh0bWwgZWxlbWVudHNcblx0XHRjb250YWluZXIuY3JlYXRlRWwoXCJoMlwiLCB7IHRleHQ6IFwiXHVEODNDXHVERjk5IEF1ZGlvIFJlY29yZGVyXCIgfSk7XG5cdFx0dGhpcy5hdWRpb0NvbnRhaW5lciA9IGNvbnRhaW5lci5jcmVhdGVEaXYoeyBjbHM6IFwiYXVkaW8tcGxheWVyLWNvbnRhaW5lclwiIH0pO1xuXG4gICAgICAgIC8vd2F2ZWZvcm0gY2FudmFzXG5cdFx0dGhpcy5jYW52YXMgPSBjb250YWluZXIuY3JlYXRlRWwoXCJjYW52YXNcIiwgeyBjbHM6IFwid2F2ZWZvcm0tY2FudmFzXCIgfSk7XG5cdFx0dGhpcy5jYW52YXMud2lkdGggPSBjb250YWluZXIuY2xpZW50V2lkdGg7XG5cdFx0dGhpcy5jYW52YXMuaGVpZ2h0ID0gNTAwO1xuXHRcdHRoaXMuY2FudmFzQ3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG5cdFx0Ly9idXR0b25zXG5cdFx0Y29uc3QgcGF1c2VCdG4gPSBjb250YWluZXIuY3JlYXRlRWwoXCJidXR0b25cIiwgeyBjbHM6IFwicGF1c2UtYnRuXCIgfSk7XG5cdFx0c2V0SWNvbihwYXVzZUJ0biwgXCJwYXVzZVwiKTtcblx0XHRwYXVzZUJ0bi5kaXNhYmxlZCA9IHRydWU7XG5cblx0XHRjb25zdCBSZWNvcmRCdG4gPSBjb250YWluZXIuY3JlYXRlRWwoXCJidXR0b25cIiwgeyBjbHM6IFwicmVjb3JkLWJ0blwiIH0pOyAgLy9TdGFydC1TdG9wXG5cdFx0c2V0SWNvbihSZWNvcmRCdG4sIFwicGxheVwiKVxuXHRcdC8qKiAtLS0tLS0tLS0gKiovXG5cblx0XHQvKiogYnRuIGV2ZW50cyAqKi9cblx0XHRSZWNvcmRCdG4ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdGlmICh0aGlzLmlzUmVjb3JkaW5nKSB7XG5cdFx0XHRcdC8vIFN0b3BwaW5nXG5cdFx0XHRcdGF3YWl0IHRoaXMuc3RvcFJlY29yZGluZygpO1xuXHRcdFx0XHRzZXRJY29uKFJlY29yZEJ0biwgXCJwbGF5XCIpXG5cdFx0XHRcdHBhdXNlQnRuLmRpc2FibGVkID0gdHJ1ZTtcblx0XHRcdFx0dGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xuXHRcdFx0XHRzZXRJY29uKHBhdXNlQnRuLCBcInBhdXNlXCIpXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBTdGFydGluZ1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRhd2FpdCB0aGlzLnN0YXJ0UmVjb3JkaW5nKCk7XG5cdFx0XHRcdHNldEljb24oUmVjb3JkQnRuLCBcInNxdWFyZVwiKVxuXHRcdFx0XHRwYXVzZUJ0bi5kaXNhYmxlZCA9IGZhbHNlO30gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyKTtcblx0XHRcdFx0XHRuZXcgTm90aWNlKFwiRmFpbGVkIHRvIHN0YXJ0IHJlY29yZGluZ1wiKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdFx0cGF1c2VCdG4ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdGlmICghdGhpcy5tZWRpYVJlY29yZGVyKSByZXR1cm47XG5cdFx0XHRpZiAoIXRoaXMuaXNQYXVzZWQpIHtcblx0XHRcdFx0Ly8gUGF1c2luZ1xuXHRcdFx0XHR0aGlzLm1lZGlhUmVjb3JkZXIucGF1c2UoKTtcblx0XHRcdFx0dGhpcy5pc1BhdXNlZCA9IHRydWU7XG5cdFx0XHRcdHNldEljb24ocGF1c2VCdG4sIFwicGxheVwiKTtcblx0XHRcdFx0bmV3IE5vdGljZShcIlJlY29yZGluZyBwYXVzZWRcIik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBSZXN1bWluZ1xuXHRcdFx0XHR0aGlzLm1lZGlhUmVjb3JkZXIucmVzdW1lKCk7XG5cdFx0XHRcdHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcblx0XHRcdFx0c2V0SWNvbihwYXVzZUJ0biwgXCJwYXVzZVwiKTtcblx0XHRcdFx0bmV3IE5vdGljZShcIlJlY29yZGluZyByZXN1bWVkXCIpO1xuXHRcdFx0fVxuXHRcdH07XG5cdFx0LyoqIC0tLS0tICoqL1xuXG5cdH1cblxuXHRhc3luYyBzdGFydFJlY29yZGluZygpIHtcblx0XHRjb25zdCBzdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7IGF1ZGlvOiB0cnVlIH0pO1xuXG5cdFx0dGhpcy5hdWRpb0N0eCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcblx0XHR0aGlzLnNvdXJjZSA9IHRoaXMuYXVkaW9DdHguY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2Uoc3RyZWFtKTtcblx0XHR0aGlzLmFuYWx5c2VyID0gdGhpcy5hdWRpb0N0eC5jcmVhdGVBbmFseXNlcigpO1xuXHRcdHRoaXMuYW5hbHlzZXIuZmZ0U2l6ZSA9IDIwNDg7XG5cblx0XHRjb25zdCBidWZmZXJMZW5ndGggPSB0aGlzLmFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50O1xuXHRcdHRoaXMuZGF0YUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyTGVuZ3RoKTtcblxuXHRcdHRoaXMuc291cmNlLmNvbm5lY3QodGhpcy5hbmFseXNlcik7XG5cblx0XHQvLyBSZXNldCB3YXZlZm9ybSBoaXN0b3J5XG5cdFx0dGhpcy53YXZlZm9ybUhpc3RvcnkgPSBbXTtcblxuXHRcdC8vIFN0YXJ0IHZpc3VhbGl6aW5nXG5cdFx0dGhpcy5kcmF3V2F2ZWZvcm0oKTtcblxuXHRcdHRoaXMubWVkaWFSZWNvcmRlciA9IG5ldyBNZWRpYVJlY29yZGVyKHN0cmVhbSk7XG5cdFx0dGhpcy5jaHVua3MgPSBbXTtcblxuXHRcdHRoaXMubWVkaWFSZWNvcmRlci5vbmRhdGFhdmFpbGFibGUgPSAoZSkgPT4ge1xuXHRcdFx0aWYgKGUuZGF0YS5zaXplID4gMCkgdGhpcy5jaHVua3MucHVzaChlLmRhdGEpO1xuXHRcdH07XG5cblx0XHR0aGlzLm1lZGlhUmVjb3JkZXIub25zdG9wID0gYXN5bmMgKCkgPT4ge1xuXHRcdFx0Y29uc3QgYmxvYiA9IG5ldyBCbG9iKHRoaXMuY2h1bmtzLCB7IHR5cGU6IFwiYXVkaW8vd2VibVwiIH0pO1xuXHRcdFx0YXdhaXQgdGhpcy5zYXZlUmVjb3JkaW5nKGJsb2IpO1xuXHRcdFx0dGhpcy5zdG9wVmlzdWFsaXphdGlvbigpOyAvLyBzdG9wIGRyYXdpbmdcblx0XHR9O1xuXG5cdFx0dGhpcy5tZWRpYVJlY29yZGVyLnN0YXJ0KCk7XG5cdFx0dGhpcy5pc1JlY29yZGluZyA9IHRydWU7XG5cdFx0bmV3IE5vdGljZShcIlJlY29yZGluZy4uLlwiKTtcblx0fVxuXG5cdGFzeW5jIHN0b3BSZWNvcmRpbmcoKSB7XG5cdFx0aWYgKCF0aGlzLm1lZGlhUmVjb3JkZXIgfHwgIXRoaXMuaXNSZWNvcmRpbmcpIHJldHVybjtcblx0XHR0aGlzLm1lZGlhUmVjb3JkZXIuc3RvcCgpO1xuXHRcdHRoaXMuaXNSZWNvcmRpbmcgPSBmYWxzZTtcblx0XHRuZXcgTm90aWNlKFwiUmVjb3JkaW5nIHN0b3BwZWRcIik7XG5cdH1cblxuXHRhc3luYyBzYXZlUmVjb3JkaW5nKGJsb2I6IEJsb2IpIHtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7XG5cblx0XHRcdC8vIFNhdmUgdG8gL1JlY29yZGluZ3MvIGRpcmVjdG9yeSBpbiB2YXVsdFxuXHRcdFx0Y29uc3QgZm9sZGVyID0gXCJyZWNvcmRpbmdzXCI7XG5cdFx0XHRjb25zdCB2YXVsdCA9IHRoaXMuYXBwLnZhdWx0O1xuXG5cdFx0XHRpZiAoIShhd2FpdCB2YXVsdC5hZGFwdGVyLmV4aXN0cyhmb2xkZXIpKSkge1xuXHRcdFx0XHRhd2FpdCB2YXVsdC5jcmVhdGVGb2xkZXIoZm9sZGVyKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnJlcGxhY2UoL1s6Ll0vZywgXCItXCIpO1xuXHRcdFx0Y29uc3QgZmlsZW5hbWUgPSBgJHtmb2xkZXJ9L3JlY29yZGluZy0ke3RpbWVzdGFtcH0ud2VibWA7IC8vIFdlYk0gZm9yIG5vd1xuXG5cdFx0XHRhd2FpdCB2YXVsdC5jcmVhdGVCaW5hcnkoZmlsZW5hbWUsIGFycmF5QnVmZmVyKTtcblx0XHRcdG5ldyBOb3RpY2UoYFNhdmVkIGFzICR7ZmlsZW5hbWV9YCk7XG5cblx0XHRcdHRoaXMuc2hvd0F1ZGlvUGxheWVyKGZpbGVuYW1lLCBibG9iKTtcblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyKTtcblx0XHRcdG5ldyBOb3RpY2UoXCJGYWlsZWQgdG8gc2F2ZSByZWNvcmRpbmdcIik7XG5cdFx0fVxuXHR9XG5cbiAgICBwcml2YXRlIHN0b3BWaXN1YWxpemF0aW9uKCkge1xuXHRcdGlmICh0aGlzLmFuaW1hdGlvbkZyYW1lKSB7XG5cdFx0XHRjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGlvbkZyYW1lKTtcblx0XHRcdHRoaXMuYW5pbWF0aW9uRnJhbWUgPSBudWxsO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgZHJhd1dhdmVmb3JtKCkge1xuXHRcdGlmICghdGhpcy5jYW52YXNDdHggfHwgIXRoaXMuYW5hbHlzZXIgfHwgIXRoaXMuZGF0YUFycmF5KSByZXR1cm47XG5cdFx0Y29uc3QgY3R4ID0gdGhpcy5jYW52YXNDdHg7XG5cdFx0Y29uc3QgYW5hbHlzZXIgPSB0aGlzLmFuYWx5c2VyO1xuXHRcdGNvbnN0IGRhdGFBcnJheSA9IHRoaXMuZGF0YUFycmF5O1xuXHRcdGNvbnN0IHdpZHRoID0gdGhpcy5jYW52YXMhLndpZHRoO1xuXHRcdGNvbnN0IGhlaWdodCA9IHRoaXMuY2FudmFzIS5oZWlnaHQ7XG5cblx0XHRjb25zdCBkcmF3ID0gKCkgPT4ge1xuXHRcdFx0Ly8gRG9uJ3QgY29udGludWUgaWYgcGF1c2VkXG5cdFx0XHRpZiAodGhpcy5pc1BhdXNlZCkge1xuXHRcdFx0XHR0aGlzLmFuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGRyYXcpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuYW5pbWF0aW9uRnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZHJhdyk7XG5cdFx0XHRhbmFseXNlci5nZXRCeXRlVGltZURvbWFpbkRhdGEoZGF0YUFycmF5IGFzIFVpbnQ4QXJyYXk8QXJyYXlCdWZmZXI+KTtcblxuXHRcdFx0Ly8gQ2FsY3VsYXRlIFJNUyAoUm9vdCBNZWFuIFNxdWFyZSkgZm9yIGFtcGxpdHVkZVxuXHRcdFx0bGV0IHN1bSA9IDA7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGRhdGFBcnJheS5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRjb25zdCBub3JtYWxpemVkID0gKGRhdGFBcnJheVtpXSAtIDEyOCkgLyAxMjg7XG5cdFx0XHRcdHN1bSArPSBub3JtYWxpemVkICogbm9ybWFsaXplZDtcblx0XHRcdH1cblx0XHRcdGNvbnN0IHJtcyA9IE1hdGguc3FydChzdW0gLyBkYXRhQXJyYXkubGVuZ3RoKTtcblx0XHRcdGNvbnN0IGFtcGxpdHVkZSA9IHJtcyAqIDI7IC8vIFNjYWxlIGZvciB2aXNpYmlsaXR5XG5cblx0XHRcdC8vIEFkZCBuZXcgYW1wbGl0dWRlIHRvIGhpc3Rvcnlcblx0XHRcdHRoaXMud2F2ZWZvcm1IaXN0b3J5LnB1c2goYW1wbGl0dWRlKTtcblx0XHRcdFxuXHRcdFx0Ly8gS2VlcCBoaXN0b3J5IGF0IG1heCBsZW5ndGhcblx0XHRcdGlmICh0aGlzLndhdmVmb3JtSGlzdG9yeS5sZW5ndGggPiB0aGlzLm1heEhpc3RvcnlMZW5ndGgpIHtcblx0XHRcdFx0dGhpcy53YXZlZm9ybUhpc3Rvcnkuc2hpZnQoKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2xlYXIgY2FudmFzXG5cdFx0XHRjdHguZmlsbFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KS5nZXRQcm9wZXJ0eVZhbHVlKFwiLS1iYWNrZ3JvdW5kLXByaW1hcnlcIik7XG5cdFx0XHRjdHguZmlsbFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cblx0XHRcdC8vIERyYXcgY2VudGVyIGxpbmVcblx0XHRcdGN0eC5zdHJva2VTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSkuZ2V0UHJvcGVydHlWYWx1ZShcIi0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXJcIik7XG5cdFx0XHRjdHgubGluZVdpZHRoID0gMTtcblx0XHRcdGN0eC5iZWdpblBhdGgoKTtcblx0XHRcdGN0eC5tb3ZlVG8oMCwgaGVpZ2h0IC8gMik7XG5cdFx0XHRjdHgubGluZVRvKHdpZHRoLCBoZWlnaHQgLyAyKTtcblx0XHRcdGN0eC5zdHJva2UoKTtcblxuXHRcdFx0Ly8gRHJhdyB3YXZlZm9ybSBiYXNlZCBvbiBzdHlsZVxuXHRcdFx0aWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLndhdmVmb3JtU3R5bGUgPT09IFwibGluZVwiKSB7XG5cdFx0XHRcdHRoaXMuZHJhd0xpbmVXYXZlZm9ybShjdHgsIHdpZHRoLCBoZWlnaHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5kcmF3QmFyV2F2ZWZvcm0oY3R4LCB3aWR0aCwgaGVpZ2h0KTtcblx0XHRcdH1cblx0XHR9O1xuXHRcdGRyYXcoKTtcblx0fVxuXG5cdHByaXZhdGUgZHJhd0xpbmVXYXZlZm9ybShjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcblx0XHRpZiAodGhpcy53YXZlZm9ybUhpc3RvcnkubGVuZ3RoIDwgMikgcmV0dXJuO1xuXG5cdFx0Y29uc3QgcG9pbnRTcGFjaW5nID0gd2lkdGggLyB0aGlzLm1heEhpc3RvcnlMZW5ndGg7XG5cdFx0XG5cdFx0Y3R4LnN0cm9rZVN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KS5nZXRQcm9wZXJ0eVZhbHVlKFwiLS1pbnRlcmFjdGl2ZS1hY2NlbnRcIik7XG5cdFx0Y3R4LmxpbmVXaWR0aCA9IDI7XG5cdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXG5cdFx0Ly8gRHJhdyB1cHBlciB3YXZlXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLndhdmVmb3JtSGlzdG9yeS5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgeCA9IGkgKiBwb2ludFNwYWNpbmc7XG5cdFx0XHRjb25zdCBhbXBsaXR1ZGUgPSB0aGlzLndhdmVmb3JtSGlzdG9yeVtpXTtcblx0XHRcdGNvbnN0IHkgPSBoZWlnaHQgLyAyIC0gKGFtcGxpdHVkZSAqIGhlaWdodCAqIDAuNCk7XG5cdFx0XHRcblx0XHRcdGlmIChpID09PSAwKSB7XG5cdFx0XHRcdGN0eC5tb3ZlVG8oeCwgeSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjdHgubGluZVRvKHgsIHkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIERyYXcgbG93ZXIgd2F2ZSAobWlycm9yKVxuXHRcdGZvciAobGV0IGkgPSB0aGlzLndhdmVmb3JtSGlzdG9yeS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0Y29uc3QgeCA9IGkgKiBwb2ludFNwYWNpbmc7XG5cdFx0XHRjb25zdCBhbXBsaXR1ZGUgPSB0aGlzLndhdmVmb3JtSGlzdG9yeVtpXTtcblx0XHRcdGNvbnN0IHkgPSBoZWlnaHQgLyAyICsgKGFtcGxpdHVkZSAqIGhlaWdodCAqIDAuNCk7XG5cdFx0XHRjdHgubGluZVRvKHgsIHkpO1xuXHRcdH1cblxuXHRcdGN0eC5jbG9zZVBhdGgoKTtcblx0XHRjdHguZmlsbFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KS5nZXRQcm9wZXJ0eVZhbHVlKFwiLS1pbnRlcmFjdGl2ZS1hY2NlbnRcIikgKyBcIjQwXCI7IC8vIEFkZCB0cmFuc3BhcmVuY3lcblx0XHRjdHguZmlsbCgpO1xuXHRcdGN0eC5zdHJva2UoKTtcblx0fVxuXG5cdHByaXZhdGUgZHJhd0JhcldhdmVmb3JtKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xuXHRcdGNvbnN0IGJhcldpZHRoID0gd2lkdGggLyB0aGlzLm1heEhpc3RvcnlMZW5ndGg7XG5cdFx0Y29uc3QgYWNjZW50Q29sb3IgPSBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHkpLmdldFByb3BlcnR5VmFsdWUoXCItLWludGVyYWN0aXZlLWFjY2VudFwiKTtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy53YXZlZm9ybUhpc3RvcnkubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IHggPSBpICogYmFyV2lkdGg7XG5cdFx0XHRjb25zdCBhbXBsaXR1ZGUgPSB0aGlzLndhdmVmb3JtSGlzdG9yeVtpXTtcblx0XHRcdGNvbnN0IGJhckhlaWdodCA9IGFtcGxpdHVkZSAqIGhlaWdodCAqIDAuNDtcblxuXHRcdFx0Ly8gQ3JlYXRlIGdyYWRpZW50IGZvciBlYWNoIGJhciAobW9yZSByZWNlbnQgPSBicmlnaHRlcilcblx0XHRcdGNvbnN0IG9wYWNpdHkgPSAwLjMgKyAoaSAvIHRoaXMud2F2ZWZvcm1IaXN0b3J5Lmxlbmd0aCkgKiAwLjc7XG5cdFx0XHRjdHguZmlsbFN0eWxlID0gYWNjZW50Q29sb3IgKyBNYXRoLmZsb29yKG9wYWNpdHkgKiAyNTUpLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpO1xuXHRcdFx0XG5cdFx0XHQvLyBEcmF3IGJhciBmcm9tIGNlbnRlclxuXHRcdFx0Y3R4LmZpbGxSZWN0KHgsIGhlaWdodCAvIDIgLSBiYXJIZWlnaHQsIGJhcldpZHRoIC0gMSwgYmFySGVpZ2h0ICogMik7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBzaG93QXVkaW9QbGF5ZXIoZmlsZW5hbWU6IHN0cmluZywgYmxvYjogQmxvYikge1xuXHRcdGlmICghdGhpcy5hdWRpb0NvbnRhaW5lcikgcmV0dXJuO1xuXHRcdHRoaXMuYXVkaW9Db250YWluZXIuZW1wdHkoKTtcblxuXHRcdGNvbnN0IHRpdGxlID0gdGhpcy5hdWRpb0NvbnRhaW5lci5jcmVhdGVFbChcInBcIiwge1xuXHRcdFx0dGV4dDogYFx1MjVCNlx1RkUwRiAke2ZpbGVuYW1lfWAsXG5cdFx0XHRjbHM6IFwiYXVkaW8tcGxheWVyLXRpdGxlXCJcblx0XHR9KTtcblxuXHRcdGNvbnN0IGF1ZGlvID0gdGhpcy5hdWRpb0NvbnRhaW5lci5jcmVhdGVFbChcImF1ZGlvXCIsIHtcblx0XHRcdGNsczogXCJhdWRpby1wbGF5ZXJcIlxuXHRcdH0pO1xuXG5cdFx0YXVkaW8uY29udHJvbHMgPSB0cnVlO1xuXHRcdGF1ZGlvLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cdH1cblxuXHRhc3luYyBvbkNsb3NlKCkge1xuXHRcdHRoaXMuY29udGFpbmVyRWwuZW1wdHkoKTtcblx0fVxufSJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQUFBQSxtQkFBc0Y7OztBQ0F0RixzQkFBK0M7QUFTeEMsSUFBTSxtQkFBdUM7QUFBQSxFQUNuRCxlQUFlO0FBQUEsRUFDZixrQkFBa0I7QUFBQSxFQUNsQixRQUFRO0FBQ1Q7QUFFTyxJQUFNLHVCQUFOLGNBQW1DLGlDQUFpQjtBQUFBLEVBRzFELFlBQVksS0FBVSxRQUFvQjtBQUN6QyxVQUFNLEtBQUssTUFBTTtBQUNqQixTQUFLLFNBQVM7QUFBQSxFQUNmO0FBQUEsRUFFQSxVQUFnQjtBQUNmLFVBQU0sRUFBRSxZQUFZLElBQUk7QUFDeEIs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
